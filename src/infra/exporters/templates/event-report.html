<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Relatório do Evento - {{event.name}}</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        font-size: 12px;
        margin: 40px;
      }
      h1,
      h2 {
        color: #333;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
      .highlight {
        background-color: #d4edda;
      }
    </style>
  </head>
  <body>
    <h1>Relatório do Evento: {{event.name}}</h1>
    <p><strong>Período:</strong> {{event.startDate}} a {{event.endDate}}</p>
    <p><strong>Meta Geral:</strong> {{event.goal}} ({{event.goalType}})</p>

    <h2>Resumo Geral</h2>
    <ul>
      <li><strong>Total de Unidades Vendidas:</strong> {{event.totalUnits}}</li>
      <li><strong>Valor Total Vendido:</strong> R$ {{event.totalValue}}</li>
      <li>
        <strong>Meta Atingida:</strong>
        {{#if event.goalReached}}Sim ✅{{else}}Não ❌{{/if}}
      </li>
    </ul>

    <h2>Vendedores</h2>
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Telefone</th>
          <th>Unidades Vendidas</th>
          <th>Valor Total</th>
          <th>Meta</th>
          <th>Meta Atingida</th>
        </tr>
      </thead>
      <tbody>
        {{#each sellers}}
        <tr class="{{#if goalReached}}highlight{{/if}}">
          <td>{{name}}</td>
          <td>{{email}}</td>
          <td>{{phone}}</td>
          <td>{{totalUnits}}</td>
          <td>R$ {{totalValue}}</td>
          <td>{{goal}}</td>
          <td>{{#if goalReached}}Sim{{else}}Não{{/if}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>

    <h2>Vendas Detalhadas</h2>
    <table>
      <thead>
        <tr>
          <th>Data</th>
          <th>Vendedor</th>
          <th>Produto</th>
          <th>Quantidade</th>
          <th>Valor Unitário</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        {{#each sales}}
        <tr>
          <td>{{date}}</td>
          <td>{{seller}}</td>
          <td>{{product}}</td>
          <td>{{quantity}}</td>
          <td>R$ {{unitPrice}}</td>
          <td>R$ {{total}}</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </body>
</html>
